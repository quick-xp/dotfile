# LazyVim チートシート

## ウィンドウ操作

| キー | 説明 |
|------|------|
| `sh` / `<C-h>` | 左のウィンドウへ移動 |
| `sj` / `<C-j>` | 下のウィンドウへ移動 |
| `sk` / `<C-k>` | 上のウィンドウへ移動 |
| `sl` / `<C-l>` | 右のウィンドウへ移動 |
| `ss` / `<Space>-` | 横分割 |
| `sv` / `<Space>\|` | 縦分割 |
| `sq` / `<Space>wd` | ウィンドウを閉じる |
| `sz` | ウィンドウズーム トグル（tmux の C-w z） |
| `<C-w>=` | ウィンドウサイズを均等に |

## タブ操作

| キー | 説明 |
|------|------|
| `gt` | 次のタブ |
| `gT` | 前のタブ |
| `<Space><Tab>n` | 新規タブ |
| `<Space><Tab>d` | タブを閉じる |

## バッファ操作

| キー | 説明 |
|------|------|
| `Shift+H` | 前のバッファ |
| `Shift+L` | 次のバッファ |
| `[b` / `]b` | 前/次のバッファ |
| `<Space>bd` | バッファを削除 |
| `<Space>bb` | バッファ一覧 |

## ファイルエクスプローラー（Neo-tree）

**非表示設定**: `.git`, `.obsidian`, `.DS_Store`, `node_modules`
（`.claude` は表示される）

除外追加: `~/.config/nvim/lua/plugins/explorer.lua` の `never_show` に追記

| キー | 説明 |
|------|------|
| `<Space>e` | Neo-tree 開閉 |
| `l` / `Enter` | ファイルを開く |
| `h` | フォルダを閉じる |
| `a` | 新規ファイル作成 |
| `d` | 削除 |
| `r` | リネーム |
| `c` | コピー |
| `p` | ペースト |
| `Y` | フルパスをコピー |
| `/` | フィルタリング |
| `S` | 縦分割で開く |
| `<C-p>` | プレビュー |

## LSP（コードジャンプ）

| キー | 説明 |
|------|------|
| `gd` | 定義へジャンプ |
| `gr` | 参照一覧 |
| `gi` | 実装へジャンプ |
| `K` | ホバー情報表示 |
| `<Space>ca` | コードアクション |
| `<Space>cr` | リネーム |

## 検索

| キー | 説明 |
|------|------|
| `<Space><Space>` | ファイル検索（曖昧検索） |
| `<Space>ff` | ファイル検索 |
| `<Space>fr` | 最近開いたファイル |
| `<Space>/` / `<Space>sg` | 全文検索（grep） → `Ctrl+g` で追加フィルタ |
| `/` | 現在ファイル内検索 |
| `n` / `N` | 次/前の検索結果 |
| `s` | Flash（画面内ジャンプ） |

**検索の除外**: `!` で除外（例: `controller !test !spec`）

## Git（Lazygit）

| キー | 説明 |
|------|------|
| `<Space>gg` | Lazygit を開く |
| `<Space>gd` | GitHub Dashboard (gh dash) |
| `<Space>gh` | ファイルの Git 履歴（Diffview） |
| `<Space>gH` | ファイルの Git 履歴（Telescope） |
| `<Space>gB` | Git blame（詳細ポップアップ） |
| `<Space>gb` | 行末 blame 表示トグル |
| `<Space>hp` | Hunk プレビュー |
| `]h` / `[h` | 次/前の変更箇所 |

### Lazygit 内操作

| キー | 説明 |
|------|------|
| `4` | コミットパネルへ移動 |
| `j` / `k` | 選択（差分が右に表示） |
| `W` | Diff モード |
| `Enter` | 変更ファイル一覧 |
| `e` | **ファイルを Vim で開く（現在の状態）** |
| `q` | 終了 |

## GitHub (Octo + gh-dash)

### レビュー待ち確認（ターミナル）

```bash
ghrev   # レビュー依頼一覧（リポジトリ、PR番号、タイトル、日時）
```

出力例:
```
📋 レビュー待ち: 3件

quick-xp/repo-name #123
  PRのタイトル
  05/28 12:50
```

### ターミナルで `gh dash` を起動

| キー | 説明 |
|------|------|
| `j` / `k` | 上下移動 |
| `Tab` | セクション切り替え |
| `s` | PRs ↔ Issues |
| `o` | **Diffview で差分表示** |
| `c` | Octo でコメント・承認 |
| `b` | ブラウザで開く |
| `Enter` | 詳細プレビュー |
| `q` | 終了 |

### Diffview 内（差分表示）

**パネル構成**: 左=ファイル一覧 / 右=diff（左:変更前、右:変更後）

| キー | 説明 |
|------|------|
| `sh` / `sl` | パネル間移動（左右） |
| `sj` / `sk` | パネル間移動（上下） |

**ファイル一覧（左パネル）**

| キー | 説明 |
|------|------|
| `j` / `k` | ファイル選択 |
| `Enter` | diff を表示 |
| `gf` | **ファイル全体を新しいタブで開く** |
| `Tab` | 次のファイルへ |
| `X` | ファイルを元に戻す |

**diff 表示（右パネル）**

| キー | 説明 |
|------|------|
| `]c` / `[c` | 次/前の変更箇所 |
| `<Space>df` | **ファイル全体表示 ↔ 通常表示 トグル** |
| `<Space>e` | ファイルパネルにフォーカス |
| `<Space>b` | ファイルパネル表示切替 |

**終了**

| キー | 説明 |
|------|------|
| `q` | Diffview を閉じる |
| `<Space>gx` | Diffview を閉じる（どこからでも） |

### Octo（コメント・承認）

| キー | 説明 |
|------|------|
| `<Space>op` | PR 一覧 |
| `<Space>ca` | コメント追加 |
| `<Space>pm` | PR をマージ |

## デバッグ (DAP)

### 使い方 (NestJS)

```bash
# ターミナルで先に起動
cd ~/000_project/api_main
npm run start:debug
```

Neovim でブレークポイント設置 → アタッチ

| キー | 説明 |
|------|------|
| `<Space>db` / `F9` | ブレークポイント設置/解除 |
| `<Space>dc` / `F5` | デバッグ開始 / 続行 |
| `<Space>di` / `F10` | ステップイン |
| `<Space>do` / `F8` | ステップオーバー |
| `<Space>dO` | ステップアウト |
| `<Space>dx` | 終了 |
| `<Space>du` | DAP UI 表示切替 |
| `<Space>dr` | REPL 表示 |

## Rails

| キー | 説明 |
|------|------|
| `<Space>rc` | コントローラー検索 |
| `<Space>rm` | モデル検索 |
| `<Space>rv` | ビュー検索 |
| `:Econtroller` | コントローラーへ移動 |
| `:Emodel` | モデルへ移動 |
| `:Eview` | ビューへ移動 |

## Markdown

| キー | 説明 |
|------|------|
| `<Space>mp` | 左右分割プレビュー |

## その他

| キー | 説明 |
|------|------|
| `<Space>` | リーダーキー（コマンドメニュー） |
| `<Esc>` | 検索ハイライト解除 |
| `<Esc><Esc>` | ターミナルモード終了 |
| `<` / `>` | インデント（ビジュアルモード、選択維持） |
| `J` / `K` | 行移動（ビジュアルモード） |

## tmux 操作（Ctrl+w プレフィックス）

| キー | 説明 |
|------|------|
| `Ctrl+w 2` | 横分割 |
| `Ctrl+w 3` | 縦分割 |
| `Ctrl+w h/j/k/l` | ペイン移動 |
| `Ctrl+w H/J/K/L` | ペインリサイズ |
| `Ctrl+w [` | コピーモード |
| `Ctrl+w ]` | ペースト |
| `Ctrl+w q` | ウィンドウを閉じる |
| `Ctrl+w Ctrl+r` | 設定リロード |

---

*LazyVim で `<Space>` を押すとコマンドメニューが表示されます*
